<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Account</title>
    <link href="../css/navBarStyle.css" rel="stylesheet" type="text/css" >
    <link href="../css/editAccountStyle.css" rel="stylesheet" type="text/css" >
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js" type="text/javascript"></script>
    <script src="../js/editAccount.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Lato&display=swap');
    </style>
</head>
<body>
    {{> navBar}}
    
    <div id="editAccnt_box">
        <h1 id="label_editAccnt">Edit Account</h1>
        <div id="editAccntForm_box">
            <form id="form_editAccnt" method="get" action="/submitEditAccount">
                <div class="editAccntDetail_box" id="editAccntUsername_box">
                    <h5 class="label" id="label_editAccntUsername">Username</h5>
                    <input class="editAccntInput" id="input_editAccntUsername" type="text" name="username" value="{{{result.username}}}" autocomplete="off" required><br>
                    <p class="error" id="errorAddAccntUsername">{{error}}</p>
                </div>
                {{#if result.isAllowed}}
                <div class="editAccntDetail_box" id="editAccntRole_box">
                    <h5 class="label" id="label_editAccntRole">Role</h5>
                    <select class="editAccntInput" id="select_editAccntRole" name="role" value="{{{result.role}}}" required>
                        <option name = "role" value="{{{result.role}}}" selected hidden>{{{result.role}}}</option>
                        <option id="editAccnt_option_genManager">Depot General Manager</option> 
                        <option id="editAccnt_option_supervisor">Depot Supervisor</option> 
                        <option id="editAccnt_option_cashier">Depot Cashier</option> 
                        <option id="editAccnt_option_regUser">Regular User</option> 
                    </select>
                    <p class="error" id="errorAddAccntRole">{{error}}</p>
                </div>
                {{else}}
                <div class="editAccntDetail_box" id="editAccntRole_box">
                    <h5 class="label" id="label_editAccntRole">Role</h5>
                    <select class="editAccntInput" id="select_editAccntRole" name="role" value="{{{result.role}}}" disabled>
                        <option name = "role" value="{{{result.role}}}" selected hidden>{{{result.role}}}</option>
                        <option id="editAccnt_option_genManager">Depot General Manager</option> 
                        <option id="editAccnt_option_supervisor">Depot Supervisor</option> 
                        <option id="editAccnt_option_cashier">Depot Cashier</option> 
                        <option id="editAccnt_option_regUser">Regular User</option> 
                    </select>
                    <p class="error" id="errorAddAccntRole">{{error}}</p>
                </div>
                {{/if}}
                <div class="editAccntDetail_box" id="editAccntPsword_box">
                    <h5 class="label" id="label_editAccntPsword">New Password</h5>
                    <input class="editAccntInput" id="input_editAccntPsword" type="password" name="password" autocomplete="off" placeholder="Leave this field blank to keep current password"><br>
                    <p class="error" id="errorAddAccntPsword">{{error}}</p>
                </div>
                <div class="editAccntDetail_box" id="editAccntConfirm_box">
                    <h5 class="label" id="label_editAccntConfirm">Confirm Password</h5>
                    <input class="editAccntInput" id="input_editAccntConfirm" type="password" name="confirm_password" value="" autocomplete="off" placeholder="Leave this field blank to keep current password"><br>
                    <p class="error" id="errorAddAccntConfirm">{{error}}</p>
                </div>
                <div id="btnEditAccnt_box">
                    <button class="editBtns on_hover" name = "submit_button" id="btn_editAccnt" type="submit" value="{{result.userId}}">Submit Changes</button>
                    <!-- <a href = "/editAccountCancel" style = "text-decoration: none; color: white;"> --><button class="editBtns" id="btn_editAccntCancel" type="button" value="Cancel">Cancel</button><!-- </a> -->
                </div>
            </form>
        </div>
    </div>
</body>
</html>
